"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[572],{1499:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>h,frontMatter:()=>r,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"generators","title":"Generators","description":"gowebutils includes a CLI-based generator that scaffolds boilerplate code based on your SQLite database schema. It can quickly create handlers, services, and repositories using your existing DDL statements\u2014saving time and ensuring consistency across your project.","source":"@site/docs/generators.md","sourceDirName":".","slug":"/generators","permalink":"/gowebutils/docs/generators","draft":false,"unlisted":false,"editUrl":"https://github.com/gurch101/gowebutils/tree/main/packages/create-docusaurus/templates/shared/docs/generators.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"File Management","permalink":"/gowebutils/docs/file-management"},"next":{"title":"Mail","permalink":"/gowebutils/docs/mail"}}');var i=t(4848),a=t(8453);const r={},o="Generators",l={},d=[{value:"Installation",id:"installation",level:3},{value:"Getting Started",id:"getting-started",level:3},{value:"Generated Files",id:"generated-files",level:3},{value:"OpenAPI Documentation",id:"openapi-documentation",level:3},{value:"Code Customization",id:"code-customization",level:3},{value:"Schema Conventions",id:"schema-conventions",level:3}];function c(e){const n={code:"code",em:"em",h1:"h1",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"generators",children:"Generators"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"gowebutils"})," includes a CLI-based generator that scaffolds boilerplate code based on your SQLite database schema. It can quickly create handlers, services, and repositories using your existing DDL statements\u2014saving time and ensuring consistency across your project."]}),"\n",(0,i.jsx)(n.h3,{id:"installation",children:"Installation"}),"\n",(0,i.jsx)(n.p,{children:"Install the generator CLI with:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sh",children:"go install github.com/gurch101/gowebutils/cmd/generator@latest\n"})}),"\n",(0,i.jsx)(n.h3,{id:"getting-started",children:"Getting Started"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"1. Set your database file path:"})}),"\n",(0,i.jsx)(n.p,{children:"Make sure the DB_FILEPATH environment variable points to your SQLite .db file."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"2. Run the generator:"})}),"\n",(0,i.jsxs)(n.p,{children:["In your project directory, run ",(0,i.jsx)(n.code,{children:"generator"})," in the terminal."]}),"\n",(0,i.jsx)(n.p,{children:"Follow the interactive prompts to:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Select the database tables to scaffold."}),"\n",(0,i.jsx)(n.li,{children:"Choose which actions (CRUD operations) to generate."}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"generated-files",children:"Generated Files"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"internal/<dbtable>/models.go"})," - This file contains the database model for the table you specified."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"internal/<dbtable>/create_<dbtable>.go"})," - This file contains a handler, service, and repository to create a new record in the database."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"internal/<dbtable>/get_<dbtable>_by_id.go"})," - This file contains a handler, service, and repository to get a record from the database by id."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"internal/<dbtable>/search_<dbtable>.go"})," - This file contains a handler, service, and repository to search for records in the database by enabling pagination, filter on any field, and sort by any field. You can also control the fields that are returned in the response."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"internal/<dbtable>/update_<dbtable>.go"})," - This file contains a handler, service, and repository to update a record in the database via a PATCH request. This file is only generated if your database table has a ",(0,i.jsx)(n.code,{children:"version"})," field."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"internal/<dbtable>/delete_<dbtable>_by_id.go"})," - This file contains a handler, service, and repository to delete a record from the database."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"internal/<dbtable>/<dbtable>_exists.go"})," - A helper function to check if a record exists in the database."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"internal/<dbtable>/model.go"})," - This file contains a struct representing the database table."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"internal/<dbtable>/test_helpers.go"})," - This file contains helper functions to create test records for the database table."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"internal/<dbtable>/routes.go"})," - This file contains binds the handler functions to the routes through the ",(0,i.jsx)(n.code,{children:"app"})," object."]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Each program will have a corresponding end-to-end test file named ",(0,i.jsx)(n.code,{children:"internal/<dbtable>/<progname>_test.go"}),"."]}),"\n",(0,i.jsx)(n.h3,{id:"openapi-documentation",children:"OpenAPI Documentation"}),"\n",(0,i.jsxs)(n.p,{children:["Each generated handler includes comments compatible with ",(0,i.jsx)(n.code,{children:"swaggo"})," to automatically generate OpenAPI documentation."]}),"\n",(0,i.jsx)(n.h3,{id:"code-customization",children:"Code Customization"}),"\n",(0,i.jsx)(n.p,{children:"All generated code is intended as a starting point. You are encouraged to modify it to meet your application's requirements. Generated files should be committed to version control and maintained alongside your application code."}),"\n",(0,i.jsx)(n.h3,{id:"schema-conventions",children:"Schema Conventions"}),"\n",(0,i.jsx)(n.p,{children:"To ensure the generator works optimally, follow these conventions in your database schema:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Primary Key: Must be named ",(0,i.jsx)(n.code,{children:"id"})," and of type ",(0,i.jsx)(n.code,{children:"int64"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Table Names: Use ",(0,i.jsx)(n.em,{children:"plural"}),", ",(0,i.jsx)(n.em,{children:"snake_case"}),", and ",(0,i.jsx)(n.em,{children:"lowercase"})," (e.g., ",(0,i.jsx)(n.code,{children:"users"}),", ",(0,i.jsx)(n.code,{children:"order_items"}),")."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Column Names: Use ",(0,i.jsx)(n.em,{children:"snake_case"})," and ",(0,i.jsx)(n.em,{children:"lowercase"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Required Fields: Add ",(0,i.jsx)(n.code,{children:"CHECK"})," constraints like ",(0,i.jsx)(n.code,{children:"CHECK (column_name <> '')"})," to mark fields as required in the generated create/update handlers."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Email Fields: Any column name containing the word email is assumed to be an email address and will be automatically validated."}),"\n"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>r,x:()=>o});var s=t(6540);const i={},a=s.createContext(i);function r(e){const n=s.useContext(a);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),s.createElement(a.Provider,{value:n},e.children)}}}]);